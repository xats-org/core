{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://xats.org/core/blocks/metacognitivePrompt",
  "title": "Metacognitive Prompt Block",
  "description": "A block for self-reflection prompts that encourage students to think about their own learning process and develop metacognitive awareness",
  "type": "object",
  "properties": {
    "blockType": {
      "const": "https://xats.org/core/blocks/metacognitivePrompt",
      "description": "The URI identifier for this block type"
    },
    "content": {
      "$ref": "https://xats.org/schemas/0.3.0/xats.json#/definitions/MetacognitivePromptContent",
      "description": "The metacognitive prompt content including the main prompt, type, and scaffolding support"
    }
  },
  "required": ["blockType", "content"],
  "examples": [
    {
      "blockType": "https://xats.org/core/blocks/metacognitivePrompt",
      "content": {
        "prompt": {
          "runs": [
            {
              "type": "text",
              "text": "What was the most challenging concept in this section, and what strategies did you use to understand it?"
            }
          ]
        },
        "promptType": "comprehension-monitoring",
        "context": {
          "runs": [
            {
              "type": "text",
              "text": "Use this prompt after completing each major section to reflect on your learning process."
            }
          ]
        },
        "guidingQuestions": [
          {
            "question": {
              "runs": [
                {
                  "type": "text",
                  "text": "Which parts of the material did you find confusing at first?"
                }
              ]
            },
            "purpose": "Identify comprehension challenges"
          },
          {
            "question": {
              "runs": [
                {
                  "type": "text",
                  "text": "What specific steps did you take when you got stuck?"
                }
              ]
            },
            "purpose": "Reflect on problem-solving strategies"
          }
        ],
        "responseFormat": "written-reflection",
        "timing": "after-learning",
        "estimatedTimeMinutes": 10,
        "scaffolding": {
          "sentence_starters": [
            "The most challenging concept was...",
            "When I encountered difficulty, I...",
            "I found it helpful to...",
            "Next time I will try..."
          ]
        }
      }
    },
    {
      "blockType": "https://xats.org/core/blocks/metacognitivePrompt",
      "content": {
        "prompt": {
          "runs": [
            {
              "type": "text",
              "text": "Before starting this lesson, what do you already know about this topic, and what do you hope to learn?"
            }
          ]
        },
        "promptType": "goal-setting",
        "responseFormat": "structured-form",
        "timing": "before-learning",
        "estimatedTimeMinutes": 5,
        "scaffolding": {
          "sentence_starters": [
            "I already know that...",
            "I'm curious about...",
            "By the end of this lesson, I hope to..."
          ]
        }
      }
    }
  ]
}